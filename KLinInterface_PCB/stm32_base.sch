EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 2
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Interface_CAN_LIN:TJA1021TK U?
U 1 1 5FBD8AE3
P 3650 2550
AR Path="/5FBD8AE3" Ref="U?"  Part="1" 
AR Path="/5FBD4A1C/5FBD8AE3" Ref="U?"  Part="1" 
F 0 "U?" H 3650 3131 50  0000 C CNN
F 1 "TJA1021TK" H 3650 3040 50  0000 C CNN
F 2 "Package_DFN_QFN:DFN-8-1EP_3x3mm_P0.65mm_EP1.55x2.4mm" H 3650 2050 50  0001 C CIN
F 3 "http://www.nxp.com/documents/data_sheet/TJA1021.pdf" H 3650 2550 50  0001 C CNN
	1    3650 2550
	1    0    0    -1  
$EndComp
Text GLabel 3150 2450 0    50   Input ~ 0
LIN_TX
Text GLabel 3150 2350 0    50   Input ~ 0
LIN_RX
$Comp
L power:GND #PWR?
U 1 1 5FBD8AEB
P 3650 2950
AR Path="/5FBD8AEB" Ref="#PWR?"  Part="1" 
AR Path="/5FBD4A1C/5FBD8AEB" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 3650 2700 50  0001 C CNN
F 1 "GND" H 3655 2777 50  0000 C CNN
F 2 "" H 3650 2950 50  0001 C CNN
F 3 "" H 3650 2950 50  0001 C CNN
	1    3650 2950
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FBD8AF1
P 3750 2950
AR Path="/5FBD8AF1" Ref="#PWR?"  Part="1" 
AR Path="/5FBD4A1C/5FBD8AF1" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 3750 2700 50  0001 C CNN
F 1 "GND" H 3755 2777 50  0000 C CNN
F 2 "" H 3750 2950 50  0001 C CNN
F 3 "" H 3750 2950 50  0001 C CNN
	1    3750 2950
	1    0    0    -1  
$EndComp
Text GLabel 4150 2650 2    50   Input ~ 0
LIN
$Comp
L power:+3.3V #PWR?
U 1 1 5FBD8AF8
P 4150 2450
AR Path="/5FBD8AF8" Ref="#PWR?"  Part="1" 
AR Path="/5FBD4A1C/5FBD8AF8" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 4150 2300 50  0001 C CNN
F 1 "+3.3V" H 4165 2623 50  0000 C CNN
F 2 "" H 4150 2450 50  0001 C CNN
F 3 "" H 4150 2450 50  0001 C CNN
	1    4150 2450
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5FBD8AFE
P 3150 2650
AR Path="/5FBD8AFE" Ref="#PWR?"  Part="1" 
AR Path="/5FBD4A1C/5FBD8AFE" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 3150 2500 50  0001 C CNN
F 1 "+3.3V" H 3165 2823 50  0000 C CNN
F 2 "" H 3150 2650 50  0001 C CNN
F 3 "" H 3150 2650 50  0001 C CNN
	1    3150 2650
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5FBD8B04
P 3150 2750
AR Path="/5FBD8B04" Ref="#PWR?"  Part="1" 
AR Path="/5FBD4A1C/5FBD8B04" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 3150 2600 50  0001 C CNN
F 1 "+3.3V" H 3165 2923 50  0000 C CNN
F 2 "" H 3150 2750 50  0001 C CNN
F 3 "" H 3150 2750 50  0001 C CNN
	1    3150 2750
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR?
U 1 1 5FBD8B0A
P 3650 2100
AR Path="/5FBD8B0A" Ref="#PWR?"  Part="1" 
AR Path="/5FBD4A1C/5FBD8B0A" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 3650 1950 50  0001 C CNN
F 1 "VCC" H 3665 2273 50  0000 C CNN
F 2 "" H 3650 2100 50  0001 C CNN
F 3 "" H 3650 2100 50  0001 C CNN
	1    3650 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	3650 2100 3650 2150
Text GLabel 800  950  0    50   Input ~ 0
RST
Text GLabel 2100 950  2    50   Input ~ 0
Pump
Text GLabel 2100 1050 2    50   Input ~ 0
Valve
Wire Notes Line
	2650 550  2650 3100
Wire Notes Line
	2650 1700 8850 1700
Text GLabel 2100 1150 2    50   Input ~ 0
Va
$Comp
L MCU_ST_STM32F0:STM32F042G4Ux U?
U 1 1 5FBE9F5F
P 1500 1550
AR Path="/5FBE9F5F" Ref="U?"  Part="1" 
AR Path="/5FBD4A1C/5FBE9F5F" Ref="U?"  Part="1" 
F 0 "U?" H 1450 661 50  0000 C CNN
F 1 "STM32F042G4Ux" H 1450 570 50  0000 C CNN
F 2 "Package_DFN_QFN:QFN-28_4x4mm_P0.5mm" H 900 850 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00105814.pdf" H 1500 1550 50  0001 C CNN
	1    1500 1550
	1    0    0    -1  
$EndComp
Text GLabel 2100 2050 2    50   Input ~ 0
SWCLK
Text GLabel 2100 1950 2    50   Input ~ 0
SWDIO
Text GLabel 2100 1850 2    50   Input ~ 0
LIN_RX
Text GLabel 2100 1750 2    50   Input ~ 0
LIN_TX
$Comp
L power:GND #PWR?
U 1 1 5FBE9F69
P 1300 2350
AR Path="/5FBE9F69" Ref="#PWR?"  Part="1" 
AR Path="/5FBD4A1C/5FBE9F69" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 1300 2100 50  0001 C CNN
F 1 "GND" H 1305 2177 50  0000 C CNN
F 2 "" H 1300 2350 50  0001 C CNN
F 3 "" H 1300 2350 50  0001 C CNN
	1    1300 2350
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5FBE9F6F
P 1300 750
AR Path="/5FBE9F6F" Ref="#PWR?"  Part="1" 
AR Path="/5FBD4A1C/5FBE9F6F" Ref="#PWR?"  Part="1" 
F 0 "#PWR?" H 1300 600 50  0001 C CNN
F 1 "+3.3V" H 1315 923 50  0000 C CNN
F 2 "" H 1300 750 50  0001 C CNN
F 3 "" H 1300 750 50  0001 C CNN
	1    1300 750 
	1    0    0    -1  
$EndComp
Wire Wire Line
	1200 750  1300 750 
Connection ~ 1300 750 
Wire Wire Line
	1300 750  1400 750 
$Comp
L Device:C C?
U 1 1 5FC12B02
P 3750 1050
F 0 "C?" H 3865 1096 50  0000 L CNN
F 1 "100nF" H 3865 1005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 3788 900 50  0001 C CNN
F 3 "~" H 3750 1050 50  0001 C CNN
	1    3750 1050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FC12B08
P 3750 1200
F 0 "#PWR?" H 3750 950 50  0001 C CNN
F 1 "GND" H 3755 1027 50  0000 C CNN
F 2 "" H 3750 1200 50  0001 C CNN
F 3 "" H 3750 1200 50  0001 C CNN
	1    3750 1200
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5FC12B0E
P 3750 900
F 0 "#PWR?" H 3750 750 50  0001 C CNN
F 1 "+3.3V" H 3765 1073 50  0000 C CNN
F 2 "" H 3750 900 50  0001 C CNN
F 3 "" H 3750 900 50  0001 C CNN
	1    3750 900 
	1    0    0    -1  
$EndComp
Connection ~ 3750 1200
Connection ~ 3750 900 
Wire Wire Line
	3500 1200 3750 1200
Wire Wire Line
	3500 900  3750 900 
$Comp
L Device:C C?
U 1 1 5FC12B18
P 3500 1050
F 0 "C?" H 3615 1096 50  0000 L CNN
F 1 "100nF" H 3615 1005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 3538 900 50  0001 C CNN
F 3 "~" H 3500 1050 50  0001 C CNN
	1    3500 1050
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5FC12B1E
P 3950 1050
F 0 "C?" H 4065 1096 50  0000 L CNN
F 1 "4.7µF" H 4065 1005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 3988 900 50  0001 C CNN
F 3 "~" H 3950 1050 50  0001 C CNN
	1    3950 1050
	1    0    0    -1  
$EndComp
Wire Wire Line
	3750 900  3950 900 
Wire Wire Line
	3950 1200 3750 1200
$Comp
L Device:C C?
U 1 1 5FC12B26
P 4400 1050
F 0 "C?" H 4515 1096 50  0000 L CNN
F 1 "4.7µF" H 4515 1005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4438 900 50  0001 C CNN
F 3 "~" H 4400 1050 50  0001 C CNN
	1    4400 1050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FC12B2C
P 4400 1200
F 0 "#PWR?" H 4400 950 50  0001 C CNN
F 1 "GND" H 4405 1027 50  0000 C CNN
F 2 "" H 4400 1200 50  0001 C CNN
F 3 "" H 4400 1200 50  0001 C CNN
	1    4400 1200
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5FC12B32
P 4400 900
F 0 "#PWR?" H 4400 750 50  0001 C CNN
F 1 "+3.3V" H 4415 1073 50  0000 C CNN
F 2 "" H 4400 900 50  0001 C CNN
F 3 "" H 4400 900 50  0001 C CNN
	1    4400 900 
	1    0    0    -1  
$EndComp
Connection ~ 4400 1200
Connection ~ 4400 900 
Wire Wire Line
	4150 1200 4400 1200
Wire Wire Line
	4150 900  4400 900 
$Comp
L Device:C C?
U 1 1 5FC12B3C
P 4150 1050
F 0 "C?" H 4265 1096 50  0000 L CNN
F 1 "100nF" H 4265 1005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4188 900 50  0001 C CNN
F 3 "~" H 4150 1050 50  0001 C CNN
	1    4150 1050
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5FC12B42
P 4850 1050
F 0 "C?" H 4965 1096 50  0000 L CNN
F 1 "1µF" H 4965 1005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4888 900 50  0001 C CNN
F 3 "~" H 4850 1050 50  0001 C CNN
	1    4850 1050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FC12B48
P 4850 1200
F 0 "#PWR?" H 4850 950 50  0001 C CNN
F 1 "GND" H 4855 1027 50  0000 C CNN
F 2 "" H 4850 1200 50  0001 C CNN
F 3 "" H 4850 1200 50  0001 C CNN
	1    4850 1200
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5FC12B4E
P 4850 900
F 0 "#PWR?" H 4850 750 50  0001 C CNN
F 1 "+3.3V" H 4865 1073 50  0000 C CNN
F 2 "" H 4850 900 50  0001 C CNN
F 3 "" H 4850 900 50  0001 C CNN
	1    4850 900 
	1    0    0    -1  
$EndComp
Connection ~ 4850 1200
Connection ~ 4850 900 
Wire Wire Line
	4600 1200 4850 1200
Wire Wire Line
	4600 900  4850 900 
$Comp
L Device:C C?
U 1 1 5FC12B58
P 4600 1050
F 0 "C?" H 4715 1096 50  0000 L CNN
F 1 "10nF" H 4715 1005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4638 900 50  0001 C CNN
F 3 "~" H 4600 1050 50  0001 C CNN
	1    4600 1050
	1    0    0    -1  
$EndComp
Text Notes 3700 700  0    50   ~ 0
Vdd
Text Notes 4250 700  0    50   ~ 0
Vddio2
Text Notes 4750 700  0    50   ~ 0
Vdda
$Comp
L Device:C C?
U 1 1 5FC12B63
P 5050 1050
F 0 "C?" H 5165 1096 50  0000 L CNN
F 1 "33µF" H 5165 1005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5088 900 50  0001 C CNN
F 3 "~" H 5050 1050 50  0001 C CNN
	1    5050 1050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FC12B69
P 5050 1200
F 0 "#PWR?" H 5050 950 50  0001 C CNN
F 1 "GND" H 5055 1027 50  0000 C CNN
F 2 "" H 5050 1200 50  0001 C CNN
F 3 "" H 5050 1200 50  0001 C CNN
	1    5050 1200
	1    0    0    -1  
$EndComp
$Comp
L Regulator_Linear:NCP718xSN330 U?
U 1 1 5FC12B6F
P 5950 1050
F 0 "U?" H 5950 1417 50  0000 C CNN
F 1 "NCP718xSN330" H 5950 1326 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5" H 5950 1400 50  0001 C CNN
F 3 "https://www.onsemi.com/pub/Collateral/NCP718-D.PDF" H 5950 1550 50  0001 C CNN
	1    5950 1050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FC12B75
P 5950 1350
F 0 "#PWR?" H 5950 1100 50  0001 C CNN
F 1 "GND" H 5955 1177 50  0000 C CNN
F 2 "" H 5950 1350 50  0001 C CNN
F 3 "" H 5950 1350 50  0001 C CNN
	1    5950 1350
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 1050 6250 950 
$Comp
L Device:C C?
U 1 1 5FC12B7C
P 5550 1200
F 0 "C?" H 5665 1246 50  0000 L CNN
F 1 "1µF" H 5665 1155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5588 1050 50  0001 C CNN
F 3 "~" H 5550 1200 50  0001 C CNN
	1    5550 1200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5FC12B82
P 6250 1100
F 0 "C?" H 6365 1146 50  0000 L CNN
F 1 "1µF" H 6365 1055 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6288 950 50  0001 C CNN
F 3 "~" H 6250 1100 50  0001 C CNN
	1    6250 1100
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 1250 6250 1350
Wire Wire Line
	6250 1350 5950 1350
Connection ~ 5950 1350
$Comp
L power:+3.3V #PWR?
U 1 1 5FC12B8B
P 6250 950
F 0 "#PWR?" H 6250 800 50  0001 C CNN
F 1 "+3.3V" H 6265 1123 50  0000 C CNN
F 2 "" H 6250 950 50  0001 C CNN
F 3 "" H 6250 950 50  0001 C CNN
	1    6250 950 
	1    0    0    -1  
$EndComp
Connection ~ 6250 950 
$Comp
L Device:LED D?
U 1 1 5FC12B92
P 6600 950
F 0 "D?" V 6639 832 50  0000 R CNN
F 1 "LED" V 6548 832 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric" H 6600 950 50  0001 C CNN
F 3 "~" H 6600 950 50  0001 C CNN
	1    6600 950 
	0    -1   -1   0   
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5FC12B98
P 6600 800
F 0 "#PWR?" H 6600 650 50  0001 C CNN
F 1 "+3.3V" H 6615 973 50  0000 C CNN
F 2 "" H 6600 800 50  0001 C CNN
F 3 "" H 6600 800 50  0001 C CNN
	1    6600 800 
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5FC12B9E
P 6600 1250
F 0 "R?" H 6670 1296 50  0000 L CNN
F 1 "560" H 6670 1205 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6530 1250 50  0001 C CNN
F 3 "~" H 6600 1250 50  0001 C CNN
	1    6600 1250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FC12BA4
P 6600 1400
F 0 "#PWR?" H 6600 1150 50  0001 C CNN
F 1 "GND" H 6605 1227 50  0000 C CNN
F 2 "" H 6600 1400 50  0001 C CNN
F 3 "" H 6600 1400 50  0001 C CNN
	1    6600 1400
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR?
U 1 1 5FC12BAA
P 5650 950
F 0 "#PWR?" H 5650 800 50  0001 C CNN
F 1 "VCC" H 5665 1123 50  0000 C CNN
F 2 "" H 5650 950 50  0001 C CNN
F 3 "" H 5650 950 50  0001 C CNN
	1    5650 950 
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR?
U 1 1 5FC12BB0
P 5050 900
F 0 "#PWR?" H 5050 750 50  0001 C CNN
F 1 "VCC" H 5065 1073 50  0000 C CNN
F 2 "" H 5050 900 50  0001 C CNN
F 3 "" H 5050 900 50  0001 C CNN
	1    5050 900 
	1    0    0    -1  
$EndComp
Wire Notes Line
	7100 550  7100 1700
$Comp
L Connector:Conn_01x05_Male J?
U 1 1 5FC12BB7
P 7250 1000
F 0 "J?" V 7404 712 50  0000 R CNN
F 1 "Conn_01x05_Male" V 7313 712 50  0000 R CNN
F 2 "Connector_PinHeader_1.00mm:PinHeader_1x05_P1.00mm_Vertical" H 7250 1000 50  0001 C CNN
F 3 "~" H 7250 1000 50  0001 C CNN
	1    7250 1000
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5FC12BBD
P 7450 800
F 0 "#PWR?" H 7450 650 50  0001 C CNN
F 1 "+3.3V" H 7465 973 50  0000 C CNN
F 2 "" H 7450 800 50  0001 C CNN
F 3 "" H 7450 800 50  0001 C CNN
	1    7450 800 
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FC12BC3
P 7450 1200
F 0 "#PWR?" H 7450 950 50  0001 C CNN
F 1 "GND" H 7455 1027 50  0000 C CNN
F 2 "" H 7450 1200 50  0001 C CNN
F 3 "" H 7450 1200 50  0001 C CNN
	1    7450 1200
	0    -1   -1   0   
$EndComp
Text GLabel 7450 900  2    50   Input ~ 0
RST
Text GLabel 7450 1000 2    50   Input ~ 0
SWCLK
Text GLabel 7450 1100 2    50   Input ~ 0
SWDIO
Text Notes 7200 900  3    50   ~ 0
DEBUG
$Comp
L Connector:Conn_01x03_Male J?
U 1 1 5FC12BCD
P 7900 850
F 0 "J?" V 8054 662 50  0000 R CNN
F 1 "Conn_01x03_Male" V 7963 662 50  0000 R CNN
F 2 "Connector_Molex:Molex_SPOX_5267-03A_1x03_P2.50mm_Vertical" H 7900 850 50  0001 C CNN
F 3 "~" H 7900 850 50  0001 C CNN
	1    7900 850 
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR?
U 1 1 5FC12BD3
P 8150 750
F 0 "#PWR?" H 8150 600 50  0001 C CNN
F 1 "VCC" H 8165 923 50  0000 C CNN
F 2 "" H 8150 750 50  0001 C CNN
F 3 "" H 8150 750 50  0001 C CNN
	1    8150 750 
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FC12BD9
P 8100 950
F 0 "#PWR?" H 8100 700 50  0001 C CNN
F 1 "GND" H 8105 777 50  0000 C CNN
F 2 "" H 8100 950 50  0001 C CNN
F 3 "" H 8100 950 50  0001 C CNN
	1    8100 950 
	0    -1   -1   0   
$EndComp
Text GLabel 8100 850  2    50   Input ~ 0
LIN
$Comp
L Connector:Conn_01x03_Male J?
U 1 1 5FC12BE0
P 7900 1300
F 0 "J?" V 8054 1112 50  0000 R CNN
F 1 "Conn_01x03_Male" V 7963 1112 50  0000 R CNN
F 2 "Connector_Molex:Molex_SPOX_5267-03A_1x03_P2.50mm_Vertical" H 7900 1300 50  0001 C CNN
F 3 "~" H 7900 1300 50  0001 C CNN
	1    7900 1300
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR?
U 1 1 5FC12BE6
P 8150 1200
F 0 "#PWR?" H 8150 1050 50  0001 C CNN
F 1 "VCC" H 8165 1373 50  0000 C CNN
F 2 "" H 8150 1200 50  0001 C CNN
F 3 "" H 8150 1200 50  0001 C CNN
	1    8150 1200
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5FC12BEC
P 8100 1400
F 0 "#PWR?" H 8100 1150 50  0001 C CNN
F 1 "GND" H 8105 1227 50  0000 C CNN
F 2 "" H 8100 1400 50  0001 C CNN
F 3 "" H 8100 1400 50  0001 C CNN
	1    8100 1400
	0    -1   -1   0   
$EndComp
Text GLabel 8100 1300 2    50   Input ~ 0
LIN
Wire Wire Line
	8100 1200 8150 1200
Wire Wire Line
	8100 750  8150 750 
Wire Wire Line
	5550 1350 5950 1350
Wire Wire Line
	5650 950  5550 950 
Wire Wire Line
	5550 950  5550 1050
Connection ~ 5650 950 
Wire Wire Line
	5650 1050 5650 950 
$EndSCHEMATC
